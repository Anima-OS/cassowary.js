<!DOCTYPE html>
<html>
  <!--
    Copyright (C) 2012, Alex Russell (slightlyoff@chromium.org)
    Use of this source code is governed by the LGPL, which can be found in the
    COPYING.LGPL file.
  -->

  <head>
    <title>Bork Bork Bork!</title>

    <!-- GCF -->
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link href="panels.css" rel="stylesheet" type="text/css">

    <script defer="defer" src="../../src/c.js"></script>
    <script defer="defer" src="../../src/HashTable.js"></script>
    <script defer="defer" src="../../src/HashSet.js"></script>
    <script defer="defer" src="../../src/Error.js"></script>
    <script defer="defer" src="../../src/SymbolicWeight.js"></script>
    <script defer="defer" src="../../src/Strength.js"></script>
    <script defer="defer" src="../../src/Variable.js"></script>
    <script defer="defer" src="../../src/Point.js"></script>
    <script defer="defer" src="../../src/LinearExpression.js"></script>
    <script defer="defer" src="../../src/Constraint.js"></script>
    <script defer="defer" src="../../src/LinearConstraint.js"></script>
    <script defer="defer" src="../../src/EditInfo.js"></script>
    <script defer="defer" src="../../src/Tableau.js"></script>
    <script defer="defer" src="../../src/SimplexSolver.js"></script>
    <script defer="defer" src="../../src/Timer.js"></script>

    <script defer="defer" src="domutil.js"></script>
    <script defer="defer" src="panels.js"></script>

    <script defer="defer">
      //
      // Ctrl-R testing. The VERY BEST kind ;-)
      // 
      window.addEventListener("load", function() {
        "use strict";

        var root = document.rootPanel;
        // root.debug = true;

        // Create a panel, add it to the document.
        var p = window.p = new Panel();

        root.appendChild(p);

        // Subclass Panel and ensure that we're actually an element type.
        var SubPanel = c.inherit({
          extends: Panel,
          initialize: function() {
            Panel.ctor.call(this); // HACK!!!
          },
          tagName: "x-subpanel",
        });

        var sp = window.sp = new SubPanel();
        root.appendChild(sp);

        p.left = 200;
        p.top = 150;
        p.width = 100;
        p.height = 100;

        sp.width = 140;
        sp.height = 100;

        sp.rightOf = p;

        sp.above = p;

        var sp2 = window.sp2 = new SubPanel();
        sp2.innerHTML = "Howdy, y'all!";
        sp2.style.outline = "1px solid black";
        root.appendChild(sp2);

        sp2.box = { width: 100, height: 50 };
        sp2.leftOf = [ sp, p ];
        sp2.below = [ p, sp ];

        var p3 = window.p3 = new Panel();
        root.appendChild(p3);

        p3.maxWidth = 300;
        p3.minWidth = 200;
        p3.top = root.v.top;
        p3.right = root.v.right;
        p3.height = root.v.height;
        p3.innerHTML = "howdy!";
        p3.debug = true;

        var p4 = window.p4 = new Panel();
        root.appendChild(p4);
        p4.top = root.v.top;
        // p4.right = root.v.right;
        p4.left = 30;
        p4.top = 30;
        p4.maxHeight = 100;
        p4.minHeight = 10;
        p4.minWidth = 500;
        p4.maxWidth = 800;
        p4.leftOf = p3;
        p4.debug = true;

        // p4.above = sp;
		
        // p3._debugShadow.style.textAlign = "left";
      });
    </script>
    <!--
      Notes:
        - I'm using invented tag names in order to make it clear what I'm
          trying to say and for no other reason. Scripts give them meaning. So be
          it.
        - Constraints are expressed in terms of relationships defined in
          data-layout attributes on panels. The element instances themselves
          maintain the set of constraints that are sent to the solver and
          update their CSS in response to variable changes in the engine.
    -->
    <!--
      NOTE:
        Nothing in the body currently has any effect. See above for what's
        currently working.
    <script type="constraint-layout">
      #mh {
        width = 300;
        left = #cList.right;
        top = document.top;
        left = 0;
      }
      
      #cList {
      }
    </script>

    <x-panel id="mh">
    </x-panel>

    <x-panel id="cList">
    </x-panel>
    -->
  </head>
  <body>
  </body>
  <!-- Compat testing -->
  <!--
  <script src="../../src/c.js"></script>
  <script src="../../tmp/mootools-core-1.3.2-server.js"></script>
  <script src="../../tmp/jshashtable-2.1-pretty.js"></script>
  <script src="../../tmp/jshashset-pretty.js"></script>
  <script src="../../tmp/ExCLError.js"></script>
  <script src="../../tmp/ClSymbolicWeight.js"></script>
  <script src="../../tmp/ClStrength.js"></script>
  <script src="../../tmp/ClVariable.js"></script>
  <script src="../../tmp/ClPoint.js"></script>
  <script src="../../tmp/ClLinearExpression.js"></script>
  <script src="../../tmp/ClConstraint.js"></script>
  <script src="../../tmp/ClLinearConstraint.js"></script>
  <script src="../../tmp/ClEditInfo.js"></script>
  <script src="../../tmp/ClTableau.js"></script>
  <script src="../../tmp/ClSimplexSolver.js"></script>
  <script src="../../tmp/CL.js"></script>
  <script>
    c.SimplexSolver = ClSimplexSolver;
    c.LinearInequality = ClLinearInequality;
    c.GEQ = CL.GEQ;
    c.LEQ = CL.LEQ;
    c.LinearEquation = ClLinearEquation;
    c.Strength = ClStrength;
    c.StayConstraint = ClStayConstraint;
    c.LinearExpression = ClLinearExpression;
    c.Variable = ClVariable;
    c.Plus = CL.Plus;
  </script>
  -->
</html>
